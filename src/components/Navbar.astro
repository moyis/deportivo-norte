---
import logoSrc from '../assets/logo.svg';
import HamburgerMenu from '../assets/hamburger-menu.svg';

const navLinks = [
  { href: '#asociate', label: 'Asociate' },
  { href: '#historia', label: 'El Club' },
  { href: '#faq', label: 'Preguntas Frecuentes' },
  // { href: '#sponsors', label: 'Sponsors' },
];
---

<header class="fixed top-0 left-0 right-0 z-50 bg-black">
  <nav class="container" aria-label="Navegación principal">
    <div class="flex items-center h-20">
      <!-- Logo -->
      <a href="#" class="flex items-center gap-3 flex-1" aria-label="Club Deportivo Norte - Inicio">
        <img src={logoSrc.src} alt="Escudo Club Deportivo Norte" class="h-12 w-auto" />
        <div>
          <span class="font-heading text-primary text-2xl font-bold uppercase block">Deportivo Norte</span>
          <span class="text-gray-400 text-sm">Desde 1937</span>
        </div>
      </a>

      <!-- Navegación desktop -->
      <ul class="hidden lg:flex items-center justify-center gap-8" role="list">
        {navLinks.map((link) => (
          <li>
            <a 
              href={link.href} 
              class="text-white font-medium hover:text-primary transition-colors duration-200 text-sm uppercase tracking-wide"
            >
              {link.label}
            </a>
          </li>
        ))}
      </ul>

      <!-- CTA Desktop -->
      <div class="hidden lg:flex flex-1 justify-end">
        <a 
          href="#asociate" 
          class="btn-primary py-3! px-6! text-base!"
        >
          ¡Asociate!
        </a>
      </div>

      <!-- Botón menú móvil -->
      <button 
        type="button"
        class="lg:hidden p-2 text-white hover:text-primary transition-colors"
        aria-label="Abrir menú de navegación"
        aria-expanded="false"
        aria-controls="mobile-menu"
        id="mobile-menu-button"
      >
        <HamburgerMenu class="w-8 h-8" aria-hidden="true" />
      </button>
    </div>
  </nav>

  <!-- Menú móvil -->
  <div 
    id="mobile-menu" 
    class="mobile-menu fixed inset-0 top-20 bg-black lg:hidden"
    aria-hidden="true"
  >
    <nav class="container py-8" aria-label="Menú móvil">
      <ul class="flex flex-col gap-6" role="list">
        {navLinks.map((link) => (
          <li>
            <a 
              href={link.href} 
              class="text-white font-heading text-2xl uppercase hover:text-primary transition-colors block py-2"
            >
              {link.label}
            </a>
          </li>
        ))}
        <li class="pt-4">
          <a href="#asociate" class="btn-primary w-full text-center">
            ¡Asociate Ahora!
          </a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  
  menuButton?.addEventListener('click', () => {
    const isOpen = mobileMenu?.classList.toggle('open');
    menuButton.setAttribute('aria-expanded', String(isOpen));
    mobileMenu?.setAttribute('aria-hidden', String(!isOpen));
    
    // Prevenir scroll cuando el menú está abierto
    document.body.style.overflow = isOpen ? 'hidden' : '';
  });

  // Cerrar menú al hacer clic en un enlace
  mobileMenu?.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.remove('open');
      menuButton?.setAttribute('aria-expanded', 'false');
      mobileMenu.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    });
  });
</script>
